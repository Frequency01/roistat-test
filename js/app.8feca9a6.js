(function(){"use strict";var e={941:function(e,s,t){var o=t(963),r=t(252);const n={class:"wrapper"},a={class:"app__btns"},u=(0,r.Uk)("Добавить пользователя");function l(e,s,t,o,l,i){const d=(0,r.up)("my-button"),c=(0,r.up)("add-new-user-form"),p=(0,r.up)("my-dialog"),m=(0,r.up)("users-table");return(0,r.wg)(),(0,r.iD)("div",n,[(0,r._)("div",a,[(0,r.Wm)(d,{onClick:i.showDialog},{default:(0,r.w5)((()=>[u])),_:1},8,["onClick"])]),(0,r.Wm)(p,{show:l.dialogVisible,"onUpdate:show":s[0]||(s[0]=e=>l.dialogVisible=e)},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{onSave:i.saveUser,bosses:l.users},null,8,["onSave","bosses"])])),_:1},8,["show"]),(0,r.Wm)(m,{users:i.sortedUsers,modelValue:l.selectedSort,"onUpdate:modelValue":s[1]||(s[1]=e=>l.selectedSort=e),sortby:l.sortBy},null,8,["users","modelValue","sortby"])])}const i={class:"btn"};function d(e,s,t,o,n,a){return(0,r.wg)(),(0,r.iD)("button",i,[(0,r.WI)(e.$slots,"default",{},void 0,!0)])}var c={name:"my-button"},p=t(744);const m=(0,p.Z)(c,[["render",d],["__scopeId","data-v-5d0299b2"]]);var h=m;function v(e,s,t,n,a,u){return t.show?((0,r.wg)(),(0,r.iD)("div",{key:0,class:"dialog",onClick:s[1]||(s[1]=(...e)=>u.hideDialog&&u.hideDialog(...e))},[(0,r._)("div",{onClick:s[0]||(s[0]=(0,o.iM)((()=>{}),["stop"])),class:"dialog__content"},[(0,r.WI)(e.$slots,"default",{},void 0,!0)])])):(0,r.kq)("",!0)}var f={name:"my-dialog",props:{show:{type:Boolean,default:!1}},methods:{hideDialog(){this.$emit("update:show",!1)}}};const b=(0,p.Z)(f,[["render",v],["__scopeId","data-v-f4d7a2ce"]]);var g=b;const y=e=>((0,r.dD)("data-v-e8141fec"),e=e(),(0,r.Cn)(),e),w=y((()=>(0,r._)("h3",null,"Добавление пользователя",-1))),_=(0,r.Uk)("Сохранить");function V(e,s,t,n,a,u){const l=(0,r.up)("my-input"),i=(0,r.up)("my-select"),d=(0,r.up)("my-button");return(0,r.wg)(),(0,r.iD)("form",{onSubmit:s[3]||(s[3]=(0,o.iM)((()=>{}),["prevent"]))},[w,(0,r.Wm)(l,{placeholder:"Имя",modelValue:a.user.name,"onUpdate:modelValue":s[0]||(s[0]=e=>a.user.name=e),inputType:"text"},null,8,["modelValue"]),(0,r.Wm)(l,{placeholder:"Номер",modelValue:a.user.phone,"onUpdate:modelValue":s[1]||(s[1]=e=>a.user.phone=e),inputType:"number"},null,8,["modelValue"]),(0,r.Wm)(i,{bosses:t.bosses,modelValue:a.user.bossId,"onUpdate:modelValue":s[2]||(s[2]=e=>a.user.bossId=e)},null,8,["bosses","modelValue"]),(0,r.Wm)(d,{onClick:u.saveUser},{default:(0,r.w5)((()=>[_])),_:1},8,["onClick"])],32)}var k={name:"add-new-user-form",props:{bosses:{type:Array,default:()=>[]}},data(){return{user:{name:"",phone:"",bossId:null}}},methods:{saveUser(){this.user.id=Date.now(),this.$emit("save",this.user),this.user={name:"",phone:"",bossId:null}}}};const I=(0,p.Z)(k,[["render",V],["__scopeId","data-v-e8141fec"]]);var U=I;const D={class:"table-wrapper"},O={class:"category"},C={class:"users"};function S(e,s,t,n,a,u){const l=(0,r.up)("user-item");return(0,r.wg)(),(0,r.iD)("div",D,[(0,r._)("div",O,[(0,r._)("h1",{onClick:s[0]||(s[0]=e=>u.sortedUsers("name"))},"Имя"),(0,r._)("h1",{onClick:s[1]||(s[1]=e=>u.sortedUsers("phone"))},"Телефон")]),(0,r._)("div",C,[(0,r.Wm)(o.W3,{name:"user-list"},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.users,(e=>((0,r.wg)(),(0,r.j4)(l,{key:e.id,user:e,users:t.users},null,8,["user","users"])))),128))])),_:1})])])}var W=t(577);const j={class:"wrapper"},B={class:"user-data"},M={key:0,class:"boss"},Z={key:0,class:"boss"};function $(e,s,t,o,n,a){const u=(0,r.up)("user-item",!0);return(0,r.wg)(),(0,r.iD)("div",j,[(0,r._)("div",B,[(0,r._)("div",null,(0,W.zw)(t.user.name),1),(0,r._)("div",null,(0,W.zw)(t.user.phone),1)]),t.user.bossId?((0,r.wg)(),(0,r.iD)("div",M,[(0,r._)("div",{class:"plus",onClick:s[0]||(s[0]=(...e)=>a.showBosses&&a.showBosses(...e))},"Show Boss"),n.bossesVisible?((0,r.wg)(),(0,r.iD)("div",Z,[(0,r.Wm)(u,{user:a.bossUser,users:t.users},null,8,["user","users"])])):(0,r.kq)("",!0)])):(0,r.kq)("",!0)])}var A={name:"user-item",data(){return{bossesVisible:!1}},props:{users:{type:Array,required:!0},user:{type:Object,required:!0}},methods:{showBosses(){this.bossesVisible=!this.bossesVisible}},computed:{bossUser(){return this.users.find((({id:e})=>e===this.user.bossId))}}};const T=(0,p.Z)(A,[["render",$],["__scopeId","data-v-724c79a4"]]);var q=T,x={components:{UserItem:q},props:{users:{type:Array,required:!0}},methods:{sortedUsers(e){return this.$emit("update:modelValue",e)}}};const N=(0,p.Z)(x,[["render",S],["__scopeId","data-v-699378c0"]]);var z=N;const E="addedUsers";let F=()=>{let e=localStorage.getItem(E);return e?JSON.parse(e):[]},H=e=>{let s=F(),t=[e,...s];localStorage.setItem(E,JSON.stringify(t))};var J={name:"App",components:{MyButton:h,MyDialog:g,AddNewUserForm:U,UsersTable:z},data(){return{users:[{id:1,name:"Марина",phone:"7(495)018-70-14"},{id:2,name:"Петр",phone:"7(495)152-23-26"},{id:3,name:"Алексей",phone:"7(495)069-26-15",bossId:4},{id:4,name:"Иван",phone:"7(495)550-16-44"},{id:5,name:"Борис",phone:"7(495)535-64-93"},...F()],dialogVisible:!1,selectedSort:"",sortBy:[{value:"name"},{value:"phone"}]}},methods:{showDialog(){this.dialogVisible=!0},saveUser(e){this.users.push(e),this.dialogVisible=!1,H(e)}},computed:{sortedUsers(){return[...this.users].sort(((e,s)=>e[this.selectedSort]?.localeCompare(s[this.selectedSort])))}}};const K=(0,p.Z)(J,[["render",l]]);var P=K;const Y=["value","type"];function G(e,s,t,o,n,a){return(0,r.wg)(),(0,r.iD)("input",{value:t.modelValue,onInput:s[0]||(s[0]=(...e)=>a.updateInput&&a.updateInput(...e)),class:"input",type:t.inputType},null,40,Y)}var L={name:"my-input",props:{modelValue:[String,Number],inputType:{type:String,default:()=>"text"}},methods:{updateInput(e){this.$emit("update:modelValue",e.target.value)}}};const Q=(0,p.Z)(L,[["render",G],["__scopeId","data-v-5904fc0a"]]);var R=Q;const X=e=>((0,r.dD)("data-v-46746f1a"),e=e(),(0,r.Cn)(),e),ee=X((()=>(0,r._)("option",{value:null,disabled:""},"Выберите Босса",-1))),se=["value"];function te(e,s,t,n,a,u){return(0,r.wy)(((0,r.wg)(),(0,r.iD)("select",{"onUpdate:modelValue":s[0]||(s[0]=e=>u.localModelValue=e),onChange:s[1]||(s[1]=(...e)=>u.changeOption&&u.changeOption(...e)),class:"select"},[ee,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.bosses,(e=>((0,r.wg)(),(0,r.iD)("option",{key:e.id,value:e.id},(0,W.zw)(e.name),9,se)))),128))],544)),[[o.bM,u.localModelValue]])}var oe={name:"my-select",props:{modelValue:{type:Number,default:()=>0},bosses:{type:Array,default:()=>[]}},methods:{changeOption(e){this.$emit("update:modelValue ",e.target.value)}},computed:{localModelValue:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}}};const re=(0,p.Z)(oe,[["render",te],["__scopeId","data-v-46746f1a"]]);var ne=re,ae=[h,g,R,ne];const ue=(0,o.ri)(P);Array.from(ae).forEach((e=>{ue.component(e.name,e)})),ue.mount("#app")}},s={};function t(o){var r=s[o];if(void 0!==r)return r.exports;var n=s[o]={exports:{}};return e[o](n,n.exports,t),n.exports}t.m=e,function(){var e=[];t.O=function(s,o,r,n){if(!o){var a=1/0;for(d=0;d<e.length;d++){o=e[d][0],r=e[d][1],n=e[d][2];for(var u=!0,l=0;l<o.length;l++)(!1&n||a>=n)&&Object.keys(t.O).every((function(e){return t.O[e](o[l])}))?o.splice(l--,1):(u=!1,n<a&&(a=n));if(u){e.splice(d--,1);var i=r();void 0!==i&&(s=i)}}return s}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[o,r,n]}}(),function(){t.d=function(e,s){for(var o in s)t.o(s,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:s[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)}}(),function(){var e={143:0};t.O.j=function(s){return 0===e[s]};var s=function(s,o){var r,n,a=o[0],u=o[1],l=o[2],i=0;if(a.some((function(s){return 0!==e[s]}))){for(r in u)t.o(u,r)&&(t.m[r]=u[r]);if(l)var d=l(t)}for(s&&s(o);i<a.length;i++)n=a[i],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(d)},o=self["webpackChunkroistat_test"]=self["webpackChunkroistat_test"]||[];o.forEach(s.bind(null,0)),o.push=s.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(941)}));o=t.O(o)})();
//# sourceMappingURL=app.8feca9a6.js.map